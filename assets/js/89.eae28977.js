(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{367:function(t,a,s){"use strict";s.r(a);var e=s(14),v=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"memoryview-内存view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#memoryview-内存view"}},[t._v("#")]),t._v(" memoryview-内存view")]),t._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("​"),a("code",[t._v("memoryview")]),t._v("​​模块是Python标准库中的一个模块，它允许用户在"),a("strong",[t._v("不复制数据")]),t._v("的情况下操作内存中的数据。")]),t._v(" "),a("p",[t._v("其特点主要有以下几点：")]),t._v(" "),a("ol",[a("li",[t._v("可以将字节数组和其他可读写缓冲区的数据包装在内存视图对象中，以便更高效地读取和修改数据。")]),t._v(" "),a("li",[t._v("支持大多数序列操作，例如索引、切片和迭代。")]),t._v(" "),a("li",[t._v("支持通过"),a("code",[t._v("cast()")]),t._v("​方法将内存视图对象转换为另一种格式。")])]),t._v(" "),a("p",[t._v("常用的类和函数包括：")]),t._v(" "),a("ol",[a("li",[t._v("​"),a("code",[t._v("memoryview(obj)")]),t._v("​​：将一个对象包装成一个内存视图对象。")]),t._v(" "),a("li",[t._v("​"),a("code",[t._v("cast(typecode, obj)")]),t._v("​​：将内存视图对象转换为指定类型的内存视图。")]),t._v(" "),a("li",[t._v("​"),a("code",[t._v("obj[idx]")]),t._v("​​：通过索引访问内存视图中的数据。")]),t._v(" "),a("li",[t._v("​"),a("code",[t._v("obj[start:end]")]),t._v("​​：通过切片访问内存视图中的数据。")]),t._v(" "),a("li",[t._v("​"),a("code",[t._v("obj.hex()")]),t._v("​​：以十六进制字符串的形式返回内存视图中的数据。")]),t._v(" "),a("li",[t._v("​"),a("code",[t._v("obj.tobytes()")]),t._v("​​：将内存视图中的数据转换为字节数组。")])]),t._v(" "),a("p",[t._v("‍")]),t._v(" "),a("h2",{attrs:{id:"使用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[t._v("#")]),t._v(" 使用示例")]),t._v(" "),a("p",[t._v("下面是一个使用"),a("code",[t._v("memoryview")]),t._v("​模块的简单示例：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个字节数组")]),t._v("\ndata "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytearray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("b'hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将字节数组包装成内存视图对象")]),t._v("\nm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("memoryview")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改内存视图对象中的数据")]),t._v("\nm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# H")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以字符串的形式输出内存视图对象中的数据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# "Hello world"')]),t._v("\n\n")])])]),a("p",[t._v("在此示例中，首先创建了一个字节数组"),a("code",[t._v("data")]),t._v("​，然后将其包装成内存视图对象"),a("code",[t._v("m")]),t._v("​。接下来，通过修改内存视图对象"),a("code",[t._v("m")]),t._v("​中的数据来修改原始字节数组"),a("code",[t._v("data")]),t._v("​。最后，以字符串的形式输出修改后的数据。")]),t._v(" "),a("p",[t._v("‍")])])}),[],!1,null,null,null);a.default=v.exports}}]);