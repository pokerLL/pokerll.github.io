(window.webpackJsonp=window.webpackJsonp||[]).push([[342],{621:function(t,s,a){"use strict";a.r(s);var v=a(14),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"pdb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pdb"}},[t._v("#")]),t._v(" pdb")]),t._v(" "),s("h2",{attrs:{id:"pdb-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pdb-2"}},[t._v("#")]),t._v(" pdb")]),t._v(" "),s("p",[s("code",[t._v("pdb")]),t._v(" 是 Python 的内置调试器，可用于在代码中进行调试和查找错误。以下是使用 "),s("code",[t._v("pdb")]),t._v(" 进行基本调试的一般步骤：")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("导入 pdb 模块")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pdb\n")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("在代码中设置断点")])]),t._v(" "),s("p",[t._v("可以在代码中任何想要进行调试的地方设置断点。有两种常用方式：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("在特定行设置断点")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pdb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_trace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在代码中的某行设置断点")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("在出错时自动进入调试模式")])]),t._v(" "),s("p",[t._v("可以使用 "),s("code",[t._v("-m pdb")]),t._v(" 标志来运行 Python 脚本，并在出错时自动进入调试模式。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("python "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" pdb your_script.py\n")])])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("启动调试器")])]),t._v(" "),s("ul",[s("li",[t._v("如果在代码中设置了 "),s("code",[t._v("pdb.set_trace()")]),t._v("，当执行到这行代码时程序会暂停，并进入交互式调试模式。")]),t._v(" "),s("li",[t._v("如果使用 "),s("code",[t._v("-m pdb")]),t._v(" 标志运行脚本，则在程序第一个能够暂停的位置暂停并进入交互式调试模式。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("使用 pdb 命令")])]),t._v(" "),s("p",[t._v("一旦进入调试模式，你可以使用 "),s("code",[t._v("pdb")]),t._v(" 提供的命令来检查变量、执行代码和跟踪代码执行流程。以下是一些常用的命令：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("l [<line>]")]),t._v(" 或 "),s("code",[t._v("list")]),t._v(": 显示当前代码 "),s("code",[t._v("/ <line>")]),t._v("上下文的片段, 多次执行则显示更多。")]),t._v(" "),s("li",[s("code",[t._v("n")]),t._v(" 或 "),s("code",[t._v("next")]),t._v(": 执行下一行代码，如果有函数调用则执行函数调用（不进入）。")]),t._v(" "),s("li",[s("code",[t._v("c")]),t._v(" 或 "),s("code",[t._v("continue")]),t._v(": 继续执行代码直到下一个断点。")]),t._v(" "),s("li",[s("code",[t._v("p")]),t._v(" 或 "),s("code",[t._v("print")]),t._v(": 打印变量的值。")]),t._v(" "),s("li",[s("code",[t._v("s")]),t._v(" 或 "),s("code",[t._v("step")]),t._v(": 逐步执行代码，如果有函数调用，则进入函数内部。")]),t._v(" "),s("li",[s("code",[t._v("q")]),t._v(" 或 "),s("code",[t._v("quit")]),t._v(": 退出调试器。")]),t._v(" "),s("li",[s("code",[t._v("w")]),t._v(" 或 "),s("code",[t._v("where")]),t._v(": 显示当前调用栈。")]),t._v(" "),s("li",[s("code",[t._v("u")]),t._v(" 或 "),s("code",[t._v("up")]),t._v(": 移动到当前调用栈的上一层。")]),t._v(" "),s("li",[s("code",[t._v("a")]),t._v(" 或 "),s("code",[t._v("args")]),t._v(": 打印当前函数的参数列表。")]),t._v(" "),s("li",[s("code",[t._v("r")]),t._v(" 或 "),s("code",[t._v("return")]),t._v(": 执行代码直到从当前函数返回。")]),t._v(" "),s("li",[s("code",[t._v("unt <line>")]),t._v(": 执行代码直到指定行。")]),t._v(" "),s("li",[s("code",[t._v("b <line>")]),t._v(": 在指定行设置断点。")]),t._v(" "),s("li",[s("code",[t._v("cl <line>")]),t._v(": 清除指定行的断点。")]),t._v(" "),s("li",[s("code",[t._v("help <command>")]),t._v(": 显示指定命令的帮助信息。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("控制程序流程")])]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("pdb")]),t._v(" 命令可以查看和控制代码执行的流程。你可以逐行执行代码、查看变量的值，直到找到问题所在。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("退出调试器")])]),t._v(" "),s("p",[t._v("当你完成调试时，使用 "),s("code",[t._v("q")]),t._v(" 或 "),s("code",[t._v("quit")]),t._v(" 命令退出调试器，并让程序继续正常执行。")])])]),t._v(" "),s("p",[t._v("例子：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pdb\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    pdb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_trace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置断点")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" a\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),t._v("\n\nx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\ny "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" func"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("在上述示例中，"),s("code",[t._v("pdb.set_trace()")]),t._v(" 将在 "),s("code",[t._v("add")]),t._v(" 函数内创建一个断点。当运行这段代码时，程序将在调用 "),s("code",[t._v("add(x, y)")]),t._v(" 时暂停，进入交互式调试模式，允许你检查变量值、执行代码行等操作。")]),t._v(" "),s("p",[t._v("‍")])])}),[],!1,null,null,null);s.default=_.exports}}]);