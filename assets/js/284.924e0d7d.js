(window.webpackJsonp=window.webpackJsonp||[]).push([[284],{563:function(t,e,a){"use strict";a.r(e);var s=a(14),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"python包发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#python包发布"}},[t._v("#")]),t._v(" Python包发布")]),t._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://docs.python.org/3.10/distributing/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("distributing doc"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://packaging.python.org/en/latest/tutorials/packaging-projects/#packaging-python-projects",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方示例"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("‍")]),t._v(" "),e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),e("p",[t._v("Python包的发布大致分为两个主要过程：打包和发布。")]),t._v(" "),e("h3",{attrs:{id:"打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[t._v("#")]),t._v(" 打包")]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[t._v("项目结构")]),t._v(": 首先，确保项目有一个合适的目录结构。通常，一个 Python 项目应该包含一个顶级目录，其中包含了你的代码文件和其他必要文件，例如 README、LICENSE、setup.py 等。一个常见的目录结构如下所示：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mypackage/\n├── mymodule.py\n├── README.md\n├── LICENSE\n└── setup.py\n")])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("创建 setup.py")]),t._v(": 创建一个 "),e("code",[t._v("setup.py")]),t._v("​​ 文件用于描述你的包的元数据。")]),t._v(" "),e("p",[t._v("在 "),e("code",[t._v("setup.py")]),t._v("​ 中可以指定包的名称、版本、作者、许可证信息等。具体内容可以参考 "),e("a",{attrs:{href:"https://packaging.python.org/en/latest/tutorials/packaging-projects/#packaging-python-projects",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python 官方文档中的示例"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("构建分发包")]),t._v(": 使用 "),e("code",[t._v("setuptools")]),t._v("​​​ 或其他打包工具，运行以下命令来创建分发包：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("python setup.py sdist bdist_wheel\n")])])]),e("p",[t._v("这将在 "),e("code",[t._v("dist")]),t._v("​​ 目录中生成一个 "),e("code",[t._v(".tar.gz")]),t._v("​​ 文件和一个 "),e("code",[t._v(".whl")]),t._v("​​ 文件，前者是源码压缩包，后者是常见的whl安装文件。")])])]),t._v(" "),e("p",[t._v("‍")]),t._v(" "),e("h3",{attrs:{id:"发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发布"}},[t._v("#")]),t._v(" 发布")]),t._v(" "),e("p",[t._v("完成打包动作之后可以选择将包发布到 PyPI，或者将包上传到其他位置供其他人使用。")]),t._v(" "),e("blockquote",[e("p",[t._v("学习时建议使用"),e("code",[t._v("https://test.pypi.org")]),t._v("​")])]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[t._v("PyPI 帐户")]),t._v(": 确保在 PyPI 上有一个帐户。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("上传到 PyPI")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("使用 "),e("code",[t._v("twine")]),t._v("​​​ 工具上传包。确保已经安装了 "),e("code",[t._v("twine")]),t._v("​​​，然后运行以下命令：")]),t._v(" "),e("blockquote",[e("p",[t._v("如果不是用pypi则还需要指定"),e("code",[t._v("--repository-url https://test.pypi.org/legacy/")]),t._v("​​")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("twine upload dist/*\n")])])])]),t._v(" "),e("li",[e("p",[t._v("​"),e("code",[t._v("twine")]),t._v("​​​ 会提示你输入 PyPI 帐户的用户名和密码，然后上传你的包。")]),t._v(" "),e("blockquote",[e("p",[t._v("建议到pypi的账号设置中获取token，使用token做验证。")])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("验证和发布")]),t._v(": 一旦上传完成并一切正常，它将被发布到 PyPI，供其他人使用。")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);