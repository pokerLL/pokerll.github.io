(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{365:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"io-通用io流接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#io-通用io流接口"}},[t._v("#")]),t._v(" io-通用IO流接口")]),t._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("Python标准库中的io模块提供了一个通用的接口，用于处理Python中的不同类型的I/O流。这个模块定义了许多类和函数，它们可用于将Python中的不同类型的数据读入和写出到不同的文件对象中。")]),t._v(" "),s("p",[t._v("其中，最常用的是"),s("code",[t._v("io.StringIO")]),t._v("​和"),s("code",[t._v("io.BytesIO")]),t._v("​，它们分别提供了在内存中读写文本和二进制数据的能力。")]),t._v(" "),s("ul",[s("li",[t._v("​"),s("code",[t._v("io.StringIO")]),t._v("​类是一个内存中的缓冲区，用于在内存中读写字符串。它可以像文件一样使用，并且支持标准文件操作，如read()、write()和seek()等。它的构造函数可接受一个可选的字符串参数，用于初始化缓冲区。默认情况下，缓冲区是空的。")]),t._v(" "),s("li",[t._v("​"),s("code",[t._v("io.BytesIO")]),t._v("​类是一个类似于io.StringIO的内存缓冲区，但是它是用于二进制数据的。它可以像文件一样使用，并且支持标准文件操作，如read()、write()和seek()等。它的构造函数可接受一个可选的字节数组参数，用于初始化缓冲区。默认情况下，缓冲区是空的。")])]),t._v(" "),s("h2",{attrs:{id:"io-stringio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#io-stringio"}},[t._v("#")]),t._v(" io.StringIO")]),t._v(" "),s("p",[t._v("​"),s("code",[t._v("io.StringIO")]),t._v("​用于读写字符串，它实现了类文件对象的接口，因此可以使用标准文件对象的方法来操作数据。下面是一个简单的使用示例：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" io\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个StringIO对象")]),t._v("\nsio "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StringIO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 向StringIO对象写入数据")]),t._v("\nsio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, world!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将指针移动到文件开头")]),t._v("\nsio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seek"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从StringIO对象读取数据")]),t._v("\ndata "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印读取的数据")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("上述示例中，"),s("code",[t._v("write()")]),t._v("​方法用于写入数据，"),s("code",[t._v("seek()")]),t._v("​方法用于移动指针，"),s("code",[t._v("read()")]),t._v("​方法用于读取数据。")]),t._v(" "),s("h2",{attrs:{id:"io-bytesio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#io-bytesio"}},[t._v("#")]),t._v(" io.BytesIO")]),t._v(" "),s("p",[t._v("​"),s("code",[t._v("io.BytesIO")]),t._v("​用于读写二进制数据，与"),s("code",[t._v("io.StringIO")]),t._v("​类似，也实现了类文件对象的接口。下面是一个简单的使用示例：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" io\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个BytesIO对象")]),t._v("\nbio "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BytesIO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 向BytesIO对象写入数据")]),t._v("\nbio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("b'\\x00\\x01\\x02\\x03\\x04\\x05\\x06\\x07'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将指针移动到文件开头")]),t._v("\nbio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seek"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从BytesIO对象读取数据")]),t._v("\ndata "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印读取的数据")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("需要注意的是，在读取"),s("code",[t._v("io.BytesIO")]),t._v("​对象的数据时，得到的是二进制字节串，而不是字符串。")])])}),[],!1,null,null,null);s.default=e.exports}}]);